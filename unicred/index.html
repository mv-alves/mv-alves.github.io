<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">        
        <title>Demo Unicred</title>
        <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.conversejs.org/css/converse.min.css">
        <script src="https://cdn.conversejs.org/dist/converse.min.js"></script>
    </head>    
    <body>
        <script>
            var user = getParameterByName('u');
            var pass = getParameterByName('p');

            require(['converse'], function (converse) {
                converse.initialize({
                    bosh_service_url: 'https://conversejs.org/http-bind/',
                    i18n: locales.pt_BR,
                    show_controlbox_by_default: true,
                    auto_login: true,
                    jid: user,
                    password: pass,
                    roster_groups: true
                });
            });

            function getParameterByName(name, url) {
                if (!url) {
                  url = window.location.href;
                }
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }
        </script>
    </body>
</html>
